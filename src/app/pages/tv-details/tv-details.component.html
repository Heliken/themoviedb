<ng-container
  *ngIf="
    { state: (isLoading$ | async) === false } as isLoading;
    else preloader
  ">
  <ng-container *ngIf="details$ | async as details">
    <ng-container *ngIf="isLoading.state; else preloader">
      <mdb-detailed-page-hero [title]="details.title" [img]="details.poster">
        <ng-container background>
          <mdb-detailed-page-hero-bg
            *ngIf="details.background"
            class="detailed-hero--bg"
            [background]="details.background"></mdb-detailed-page-hero-bg>
        </ng-container>
        <ng-container description>
          <mdb-detailed-page-hero-description
            *ngIf="details.description"
            class="detailed-hero--description"
            [text]="details.description">
          </mdb-detailed-page-hero-description>
        </ng-container>
        <ng-container other>
          <mdb-detailed-page-hero-rating
            class="detailed-hero--rating"
            *ngIf="details.rating"
            [value]="details.rating"></mdb-detailed-page-hero-rating>
          <mdb-detailed-page-hero-date
            *ngIf="details.releaseDate"
            [date]="
              details.releaseDate | date : 'dd MMMM yyyy'
            "></mdb-detailed-page-hero-date>
          <mdb-detailed-page-hero-crew
            *ngIf="details.creators.length"
            [crew]="details.creators"></mdb-detailed-page-hero-crew>
          <mdb-detailed-page-hero-genres
            *ngIf="details.genres.length"
            [genres]="details.genres"></mdb-detailed-page-hero-genres>
        </ng-container>
      </mdb-detailed-page-hero>
      <mdb-detailed-page-body>
        <mdb-detailed-page-section
          *ngIf="details.credits.cast.length"
          title="Series cast"
          [gridData]="
            details.credits.cast | slice : 0 : castToShow
          "></mdb-detailed-page-section>
      </mdb-detailed-page-body>
    </ng-container>
  </ng-container>
</ng-container>
<ng-template #preloader><mdb-preloader></mdb-preloader></ng-template>
